<html>
    <head>
        <script src="jquery-1.7.1.min.js" type="text/javascript"></script>
        <link href="site.css" media="screen" rel="stylesheet" type="text/css">
        
        <!-- the tape -->
        <script src="gaffa.js" type="text/javascript"></script>
        
        <!-- views -->
        <script src="views/container.js" type="text/javascript"></script>
        <script src="views/textbox.js" type="text/javascript"></script>
        <script src="views/checkbox.js" type="text/javascript"></script>
        <script src="views/paragraph.js" type="text/javascript"></script>
        <script src="views/text.js" type="text/javascript"></script>
        <script src="views/linebreak.js" type="text/javascript"></script>
        <script src="views/anchor.js" type="text/javascript"></script>
        <script src="views/label.js" type="text/javascript"></script>
        <script src="views/heading.js" type="text/javascript"></script>
        <script src="views/list.js" type="text/javascript"></script>
        <script src="views/button.js" type="text/javascript"></script>
        
        <!-- actions -->
        <script src="actions/toggle.js" type="text/javascript"></script>
        
        <!-- the application -->
        <script type="text/javascript">
        
            /* page model */
            gaffa.model.set("stuff", {
                someBool: true,
                someOtherBool: false,
                someProperty: "a heading",
                anArray: [
                    "value1",
                    "value2",
                    "value3"
                ]
            });
            
            /* page view */
            gaffa.views.add({
                type: "container",
                views: {
                    content: [
                        {
                            type: "heading",
                            properties: {
                                text: { value: "What is Gaffa?" }
                            }
                        },
                        {
                            type: "container",
                            views: {
                                content: [                                     
                                    {
                                        type: "text",
                                        properties: {
                                            text: { value: "Gaffer tape, gaffer's tape, gaff tape[1] or gaffa tape[2] is a strong, tough, cotton cloth pressure sensitive tape with strong adhesive properties." },
                                            classes: {value: "quote"}
                                        }
                                    },
                                    {
                                        type: "anchor",
                                        properties: {
                                            text: { value: "Wikipedia" },
                                            href: { value: "http://en.wikipedia.org/wiki/Gaffer_tape" }
                                        }
                                    },
                                    {
                                        type: "heading",
                                        properties: {
                                            text: { value: "Seriously though.." }
                                        }
                                    },
                                    {
                                        type: "container",
                                        views:{
                                            content:[
                                                {
                                                    type:"paragraph",
                                                    views:{
                                                        content:[
                                                            {
                                                                type: "text",
                                                                properties: {
                                                                    text: { value: "gaffa.js sticks your DOM to your models. Just set your model to any javascript object, and bind your pages views to properties on it, using paths." }
                                                                }
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    type:"paragraph",
                                                    views:{
                                                        content:[
                                                            {
                                                                type: "text",
                                                                properties: {
                                                                    text: { value: "100% of all the things are JSON, the page is made up of JSON 'views'" }
                                                                }
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    type:"paragraph",
                                                    views:{
                                                        content:[
                                                            {
                                                                type: "text",
                                                                properties: {
                                                                    text: { value: "Because everything is made up of these 'views', reusing layout is a must. This helps create a consitant UI." }
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            type: "heading",
                            properties: {
                                text: { value: "Examples" }
                            }
                        },
                        {
                            type: "container",
                            views: {
                                content: [ 
                                    {
                                        type: "button",
                                        properties: {
                                            text: { value: "Toggle visibility of container below" }
                                        },
                                        actions:{
                                            click: [
                                                {
                                                    type: "toggle",
                                                    bindings: {
                                                        toggle: "stuff/someOtherBool"
                                                    }
                                                }
                                            ]
                                        }
                                    },
                                    {
                                        type: "text",
                                        properties: {
                                            text: { value: "This button toggles a bool in the model, that the following containers visibility property is bound to." }
                                        }
                                    },
                                    {
                                        type: "container",
                                        views: {
                                            content: [
                                                {
                                                    type: "heading",
                                                    properties: {
                                                        text: { binding: "stuff/someProperty" }
                                                    }
                                                },
                                                {
                                                    type: "button",
                                                    properties: {
                                                        text: { value: "Hide this container" }
                                                    },
                                                    actions:{
                                                        click: [
                                                            {
                                                                type: "toggle",
                                                                bindings: {
                                                                    toggle: "stuff/someOtherBool"
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            ] 
                                        },
                                        properties: {
                                            visible: { binding: "stuff/someOtherBool" },
                                            classes:{
                                                value: "classname"
                                            }
                                        }
                                    },
                                    {
                                        type: "linebreak"
                                    },
                                    {
                                        type: "textbox",
                                        properties: {
                                            value: { binding: "stuff/someProperty" }
                                        }
                                    },
                                    {
                                        type: "text",
                                        properties: {
                                            text: { value: "This textbox's value is bound to the same model property as the heading in the hidden panel above." }
                                        }
                                    },
                                    {
                                        type: "linebreak"
                                    },
                                    {
                                        type: "textbox",
                                        properties: {
                                            value: { value: "Unbound, pre-filled properties" }
                                        }
                                    },
                                    {
                                        type: "text",
                                        properties: {
                                            text: { value: "This textbox's value is not bound, and is pre-populated" }
                                        }
                                    },
                                    {
                                        type: "paragraph"
                                    },
                                    {
                                        type: "checkbox",
                                        properties: {
                                            checked: { binding: "stuff/someOtherBool" }
                                        }
                                    },
                                    {
                                        type: "text",
                                        properties: {
                                            text: { value: "Show the hidden container" }
                                        }
                                    },
                                    {
                                        type: "paragraph",
                                        properties: {
                                            text: { value: "The next container has a list view, with a template for textboxes. Its list property is bound to an array in the model" }
                                        }
                                    },
                                    {
                                        type: "container",
                                        views: {
                                            content: [
                                                {
                                                    type: "list",
                                                    binding: "stuff/anArray",
                                                    properties: {
                                                        list: { 
                                                            binding: "stuff/anArray",
                                                            template: {
                                                                type: "textbox",
                                                                properties: {
                                                                    value: { binding: "~" }
                                                                }
                                                            } 
                                                        }
                                                    }
                                                }
                                            ] 
                                        }
                                    }
                                ]
                            }
                        }
                    ]
                },
                properties: {
                    visible: { binding: "stuff/someBool" }
                }
            });
            
            /* Webpage++ */
            $(document).ready(function(){
                gaffa.views.renderTarget = $("body");
                gaffa.views.render();
            });
        
        </script>
        <style>
            @font-face { font-family: Quote; src: url('Quote.ttf'); }
        
            body{
                background-color: #444;
                }            
            
            h1{
                margin-top:10px;
            }
            
            h1 + .container{
                margin-top:-8px;
            }
            
            .container > h1:first-child{
                margin-top: -15px;
            }
            
            body > .container > h1:first-child{
                margin-top: 10px;
            }
                
            body > .container {
                border: none;
                background: rgba(0,0,0,0.5);
                height:100%;
                border-radius:0px;
                padding-top:0px;
                padding-bottom:0px;
            }
            
            body > .container > h1{
                color: rgba(255,255,255,0.8);
                padding:10px;
                padding-left:0px;
                margin-top: 0px;
                margin-bottom:-11px;
                font-size:3.8em;
            }
                
            .container {
                border: solid 1px rgba(82, 168, 236, 0.8);
                padding: 10px;
                padding-top: 20px;
                box-shadow:5px 5px 10px rgba(0,0,0,0.4);
                background: rgba(255,255,255,0.85);
                border-bottom-left-radius:3px;
                border-bottom-right-radius:3px;
                margin-bottom:20px;
            }
            
            span.text{
                margin-left:5px;
            }
            
            .quote{
                color: #444;
                font-family: Quote;
                font-size:1.4em;
                padding-left:30px;
            }
            .quote:before{
                content:"\"";
                font-size:1.8em;
            }
            .quote:after{
                content:"\"";
                font-size:1.8em;
            }
        </style>
    </head>
    <body>
    </body>
</html>